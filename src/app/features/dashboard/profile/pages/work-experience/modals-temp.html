<!-- MODAL: Docente -->
<div class="modal-overlay" *ngIf="showDocentModal">
    <div class="modal-container">
        <div class="modal-header">
            <h2>Experiencia como Docente</h2>
            <p>Registra tu experiencia acad√©mica como docente en instituciones.</p>
        </div>

        <form [formGroup]="docentForm" (ngSubmit)="saveDocent()" class="modal-form">

            <!-- Instituci√≥n -->
            <div class="form-group">
                <label>Instituci√≥n *</label>
                <input type="text" formControlName="institution" class="form-input"
                    placeholder="Nombre de la instituci√≥n">
            </div>

            <!-- Tipos -->
            <div class="form-row two-col">
                <div class="form-group">
                    <label>Tipo Instituci√≥n *</label>
                    <select formControlName="institutionType" class="form-input">
                        <option value="">Seleccionar...</option>
                        <option value="P√∫blica">P√∫blica</option>
                        <option value="Privada">Privada</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Tipo Docente / Categor√≠a *</label>
                    <select formControlName="docentType" class="form-input">
                        <option value="">Seleccionar...</option>
                        <option value="Principal">Principal</option>
                        <option value="Asociado">Asociado</option>
                        <option value="Auxiliar">Auxiliar</option>
                        <option value="Jefe de Pr√°ctica">Jefe de Pr√°ctica</option>
                        <option value="Invitado">Invitado</option>
                    </select>
                </div>
            </div>

            <!-- Cursos -->
            <div class="form-group">
                <label>Cursos dictados (Opcional)</label>
                <input type="text" formControlName="courses" class="form-input"
                    placeholder="Ej. F√≠sica I, Matem√°ticas...">
            </div>

            <!-- Dates -->
            <div class="form-row two-col">
                <div class="form-group">
                    <label>Fecha de inicio *</label>
                    <input type="date" formControlName="startDate" class="form-input">
                </div>
                <div class="form-group">
                    <label>Fecha de Fin</label>
                    <input type="date" formControlName="endDate" class="form-input">
                </div>
            </div>

            <!-- Currently Teaching -->
            <div class="form-group checkbox-row">
                <label class="custom-chk-label">
                    <input type="checkbox" formControlName="currentlyTeaching">
                    <span class="chk-box"></span>
                    <span class="label-text">Actualmente dicto clases aqu√≠</span>
                </label>
            </div>

            <!-- File Upload -->
            <div class="file-upload-section">
                <button type="button" class="btn-upload" (click)="uploadFile()">
                    <span>üì§</span> Adjuntar archivo (PDF, Max 5MB)
                </button>
            </div>

            <!-- File Table (Mock Reuse) -->
            <table class="files-table" *ngIf="file">
                <thead>
                    <tr>
                        <th>Codigo</th>
                        <th>Archivo</th>
                        <th>Acci√≥n</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{{ file.code }}</td>
                        <td>{{ file.name }}</td>
                        <td class="text-center">
                            <button type="button" class="btn-trash" (click)="removeFile()">üóëÔ∏è</button>
                        </td>
                    </tr>
                </tbody>
            </table>

            <div class="modal-actions">
                <button type="button" class="btn-cancel" (click)="closeDocentModal()">Cancelar</button>
                <button type="submit" class="btn-save" [disabled]="docentForm.invalid">Guardar Docencia</button>
            </div>

        </form>
    </div>
</div>

<!-- MODAL: Evaluador/Formulador de Proyectos -->
<div class="modal-overlay" *ngIf="showProjectModal">
    <div class="modal-container">
        <div class="modal-header">
            <h2>Experiencia en Proyectos I+D+i</h2>
            <p>Registra tu participaci√≥n en proyectos de investigaci√≥n, desarrollo o innovaci√≥n.</p>
        </div>

        <form [formGroup]="projectForm" (ngSubmit)="saveProject()" class="modal-form">

            <!-- Concurso -->
            <div class="form-group">
                <label>Nombre del Concurso / Convocatoria *</label>
                <input type="text" formControlName="contestName" class="form-input"
                    placeholder="Ej. Proyectos de Investigaci√≥n B√°sica 2024">
            </div>

            <!-- Entidad Financiera -->
            <div class="form-group">
                <label>Entidad Financiera *</label>
                <input type="text" formControlName="financingEntity" class="form-input"
                    placeholder="Ej. Concytec, ProCiencia, Banco Mundial">
            </div>

            <!-- Roles y Tipos -->
            <div class="form-row two-col">
                <div class="form-group">
                    <label>Rol en el Proyecto *</label>
                    <select formControlName="role" class="form-input">
                        <option value="">Seleccionar...</option>
                        <option value="Investigador Principal">Investigador Principal</option>
                        <option value="Co-Investigador">Co-Investigador</option>
                        <option value="Asistente de Investigaci√≥n">Asistente de Investigaci√≥n</option>
                        <option value="Tesista">Tesista</option>
                        <option value="Coordinador">Coordinador</option>
                        <option value="Formulador">Formulador</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Tipo de Proyecto *</label>
                    <select formControlName="projectType" class="form-input">
                        <option value="">Seleccionar...</option>
                        <option value="Investigaci√≥n B√°sica">Investigaci√≥n B√°sica</option>
                        <option value="Investigaci√≥n Aplicada">Investigaci√≥n Aplicada</option>
                        <option value="Desarrollo Tecnol√≥gico">Desarrollo Tecnol√≥gico</option>
                        <option value="Innovaci√≥n">Innovaci√≥n</option>
                    </select>
                </div>
            </div>

            <!-- Pais y A√±o -->
            <div class="form-row two-col">
                <div class="form-group">
                    <label>Pa√≠s *</label>
                    <input type="text" formControlName="country" class="form-input" placeholder="Per√∫">
                </div>
                <div class="form-group">
                    <label>A√±o de Ejecuci√≥n *</label>
                    <input type="text" formControlName="executionYear" class="form-input" placeholder="Ej. 2023">
                </div>
            </div>

            <!-- Monto y URL -->
            <div class="form-row two-col">
                <div class="form-group">
                    <label>Monto Financiado *</label>
                    <input type="number" formControlName="amount" class="form-input" placeholder="0.00">
                </div>
                <div class="form-group">
                    <label>URL / Sitio Web *</label>
                    <input type="text" formControlName="url" class="form-input" placeholder="https://...">
                </div>
            </div>

            <!-- File Upload -->
            <div class="file-upload-section">
                <button type="button" class="btn-upload" (click)="uploadFile()">
                    <span>üì§</span> Adjuntar archivo (PDF, Max 5MB)
                </button>
            </div>

            <!-- File Table (Mock Reuse) -->
            <table class="files-table" *ngIf="file">
                <thead>
                    <tr>
                        <th>Codigo</th>
                        <th>Archivo</th>
                        <th>Acci√≥n</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{{ file.code }}</td>
                        <td>{{ file.name }}</td>
                        <td class="text-center">
                            <button type="button" class="btn-trash" (click)="removeFile()">üóëÔ∏è</button>
                        </td>
                    </tr>
                </tbody>
            </table>

            <div class="modal-actions">
                <button type="button" class="btn-cancel" (click)="closeProjectModal()">Cancelar</button>
                <button type="submit" class="btn-save" [disabled]="projectForm.invalid">Guardar Proyecto</button>
            </div>

        </form>
    </div>
</div>